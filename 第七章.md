		第七章		进程管理
		
进程监控

	ps [选项]
		选项
			-a		显示一个终端的所有进程
			-u		显示进程的归属用户急剧内存的使用情况
			-x		显示没有控制终端的进程
			-l		以长格式显示更加详细的信息
			-e		显示所有进程
			
			
		字段含义	ps -aux
		
			USER	进程产生的用户
			PID		进程的ID
			%CPU	CPU使用率
			%MEM	物力内存使用率
			VSZ		占用虚拟内存大小,单位KB
			RSS		占用实际物理内存,单位KB
			TTY		运行的终端;tty1~tty7本地控制台,pts/0~255虚拟远程终端
			STAT	进程状态
					-D		不可唤醒的睡眠状态,常用于I/O
					-R		正在运行
					-S		睡眠状态,可唤醒
					-T		停止状态,可能在后台暂停或处于调试状态
					-W		内存交互状态
					-X		死进程
					-Z		僵尸进程
					-<		高优先级进程
					-N		低优先级
					-L		被锁入内存进程
					-s		包含子进程
					-l		具有多线程
					-+		位于后台的进程
			START	进程启动时间
			TIME	占用CPU的运算时间
			COMMAND	产生进程的命令名
			
		字段含义	ps -le
		
			F		进程标志,说明进程的权限
					1	进程可被复制,但不能被执行
					4	进程使用超级用户权限
			S		进程状态
			UID		进程的用户
			PID
			PPID	父进程id
			C		进程的CPU占用率
			PRI		进程优先级数值越小优先级越高
			NI		进程优先级数值越小优先级越高
			ADDR	进程在内存的位置
			SZ		进程占用内存的大小
			WCHAN	进程是否运行,-代表正在运行
			TTY		产生的终端
			TIME	占用CPU的运算时间
			CMD		产生的命令
			
		僵尸进程:	由进程非正常停止或程序编写错误,因此子进程先于父进程结束,
					而父进程又没有正确地回收子进程,从而子进程一直存在内存中.
					
					避免产生软件优化,产生后强制终止
					
	pstree	[选项] [PID或用户名]		进程树
		选项
			-a		显示启动每个进程对应的完整指令,包括启动进程的路径,参数等
			-c		不使用精简法显示进程信息,即显示的进程中包含子进程和父进程
			-n		根据进程PID来排序输出,默认以程序名排序
			-p		显示进程pid
			-u		显示进程对应的用户名称
			
	top	[选项]			进程监听(类似任务管理器)
		选项
			-d			指定top命令每个几秒更新
			-b			使用批处理模式输出
			-n			指定top命令执行的次数
			-p			进程pid:仅察看指定id的进程
			-s			安全模式中运行,避免在交互模式中出错
			-u	用户名	只监听用户的进程
			
			交互模式操作
				? 或 h		帮助
				P			按照CPU占用率排序,默认选项
				M			内存占用率排序
				N			PID排序
				T			CPU累计运算时间排序
				k			按照pid给与某个进程一个信号.一般用于终止某进程,信号9时强制终止的信号
				r			按照pid给某个进程重设优先级NI值
				q			退出
				
	lsof [选项]				列举系统中已经被打开的文件
		选项
			-c 字符串		只列出以字符串开头的进程打开的文件
			+d 目录			列出某个目录中所有被进程调用的文件
			-u 用户名		只列出某个用户的进程打开的文件
			-p PID			列出pid所指的进程打开的文件
			
结束进程
			
	kill [-信号] PID				
		进程信号
			1	SIGHUP		进程立即关闭,重新读取配置文件之后重启
			2	SIGHNT		程序终止信号,用于终止前台进程;相当于ctrl+c
			8	SIGFPE		发生致命的算术运算错误时发出;不仅包括浮点运算错误,
							还包括溢出及除数为0等其它所有的算术运算错误
			9	SIGKILL		立即结束程序的运行;本信号不能被阻塞,处理和忽略;一般用于强制终止进程
			14	SIGALRM		时钟定时信号,计算的是实际的时间或时钟时间;alarm函数使用该函数
			15	SIGTERM		正常结束进程的信号,kill命令的默认信号;若进程已经发生了问题,
							那么这个信号时无法正常结束进程的,这时可以尝试SIGKILL信号,也就是信号9
			18	SIGCONT		该信号可以让暂停的进程恢复执行;该信号不能被阻断
			19	SIGSTOP		该信号可以暂停前台进程,相当于按下ctrl+z;该信号不能被阻断
			
	killall [选项] [-信号] 进程名
		
			-i	交互式
			-I	进程名忽略大小写
	
	pkill [-信号] 进程名
		同killall
	pkill [-信号] [-t 终端号] 进程名	踢出用户
	w									查看登陆本机用户
	
进程优先级
	
	PRI		Priority	是由内核动态调整的,用户不能直接修改;
						用户只能通过修改NI来影响PRI
	NI		Nice
	
		PRI(最终) = PRI(原始) + NI
		
		NI范围[-20~19]
		普通用户调整NI范围[0~19],只能调整自己的进城
		普通用户只能调高NI,不能下调
		只有root能设定进程NI负值
	
	nice [-n NI值] 命令		给要启动的进程赋予NI值,但不能修改已运行的进程
	renice [-n NI值] PID	给运行中的进程修改NI值
			
	